<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="863px" preserveAspectRatio="none" style="width:2486px;height:863px;" version="1.1" viewBox="0 0 2486 863"
    width="2486px" zoomAndPan="magnify"><defs><filter height="300%" id="f1b7b9xpddh185" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="1177" y="23.5352">PreviewOnlineVSS</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="101" x2="101" y1="116.9766" y2="851.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="451" x2="451" y1="116.9766" y2="851.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="801" x2="801" y1="116.9766" y2="851.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1352.5" x2="1352.5" y1="116.9766" y2="851.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1642.5" x2="1642.5" y1="116.9766" y2="851.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2016" x2="2016" y1="116.9766" y2="851.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="8" y="114.0234">:OnlineSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="8" x2="188" y1="116.0234" y2="116.0234"/><ellipse cx="101" cy="43.4883" fill="#FEFECE" filter="url(#f1b7b9xpddh185)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M101,51.4883 L101,78.4883 M88,59.4883 L114,59.4883 M101,78.4883 L88,93.4883 M101,78.4883 L114,93.4883 " fill="none" filter="url(#f1b7b9xpddh185)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1b7b9xpddh185)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="389" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="106" x="396" y="102.0234">:Communicator</text><line style="stroke: #000000; stroke-width: 1.0;" x1="396" x2="502" y1="104.0234" y2="104.0234"/><rect fill="#FEFECE" filter="url(#f1b7b9xpddh185)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="754" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="76" x="761" y="102.0234">:WebServer</text><line style="stroke: #000000; stroke-width: 1.0;" x1="761" x2="837" y1="104.0234" y2="104.0234"/><rect fill="#FEFECE" filter="url(#f1b7b9xpddh185)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="1257.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="173" x="1264.5" y="102.0234">:VSSInformationDatabase</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1264.5" x2="1437.5" y1="104.0234" y2="104.0234"/><rect fill="#FEFECE" filter="url(#f1b7b9xpddh185)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1554.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="159" x="1561.5" y="102.0234">:VSSCommentDatabase</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1561.5" x2="1720.5" y1="104.0234" y2="104.0234"/><rect fill="#FEFECE" filter="url(#f1b7b9xpddh185)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1958" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="98" x="1965" y="102.0234">:UserDatabase</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1965" x2="2063" y1="104.0234" y2="104.0234"/><polygon fill="#A80036" points="439,143.9766,449,147.9766,439,151.9766,443,147.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="101" x2="445" y1="147.9766" y2="147.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326" x="108" y="143.5449">PreviewRequest(VSSID:int)List&lt;String&gt;,List&lt;String&gt;</text><polygon fill="#A80036" points="789,173.2871,799,177.2871,789,181.2871,793,177.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="795" y1="177.2871" y2="177.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="326" x="458" y="172.8555">PreviewRequest(VSSID:int)List&lt;String&gt;,List&lt;String&gt;</text><polygon fill="#A80036" points="1341,202.5977,1351,206.5977,1341,210.5977,1345,206.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="801" x2="1347" y1="206.5977" y2="206.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="808" y="202.166">GetLikeUserID(VSSID:int):List&lt;int&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1353" x2="1395" y1="242.374" y2="242.374"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1395" x2="1395" y1="242.374" y2="255.374"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1354" x2="1395" y1="255.374" y2="255.374"/><polygon fill="#A80036" points="1364,251.374,1354,255.374,1364,259.374,1360,255.374" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="1360" y="237.6318">GetLikeUserID(VSSID:int)</text><path d="M896,219.9082 L896,259.9082 L1344,259.9082 L1344,229.9082 L1334,219.9082 L896,219.9082 " fill="#FBFB77" filter="url(#f1b7b9xpddh185)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1334,219.9082 L1334,229.9082 L1344,229.9082 L1334,219.9082 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="427" x="902" y="237.4766">根据VSSID在VSS_Like_Table中进行查询得到点赞了该VSS的用户的用户名</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="902" y="252.7871">并将这些信息整理成List，返回此List</text><polygon fill="#A80036" points="812,286.5293,802,290.5293,812,294.5293,808,290.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="1352" y1="290.5293" y2="290.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="818" y="286.0977">LikeUserID</text><polygon fill="#A80036" points="2004,315.8398,2014,319.8398,2004,323.8398,2008,319.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="801" x2="2010" y1="319.8398" y2="319.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="808" y="315.4082">GetLikeUserName(LikeUserID:List&lt;int&gt;):List&lt;String&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2016" x2="2058" y1="349.4609" y2="349.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2058" x2="2058" y1="349.4609" y2="362.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2017" x2="2058" y1="362.4609" y2="362.4609"/><polygon fill="#A80036" points="2027,358.4609,2017,362.4609,2027,366.4609,2023,362.4609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="381" x="2023" y="344.7188">GetLikeUserNameList(LikeUserIDList:List&lt;int&gt;):List&lt;String&gt;</text><polygon fill="#A80036" points="812,387.4609,802,391.4609,812,395.4609,808,391.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="2015" y1="391.4609" y2="391.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="818" y="387.0293">LikeUserNameList</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1353" x2="1395" y1="427.2373" y2="427.2373"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1395" x2="1395" y1="427.2373" y2="440.2373"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1354" x2="1395" y1="440.2373" y2="440.2373"/><polygon fill="#A80036" points="1364,436.2373,1354,440.2373,1364,444.2373,1360,440.2373" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1360" y="422.4951">GetCommentID(VSSID:int):List&lt;int&gt;</text><path d="M1013,404.7715 L1013,444.7715 L1344,444.7715 L1344,414.7715 L1334,404.7715 L1013,404.7715 " fill="#FBFB77" filter="url(#f1b7b9xpddh185)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1334,404.7715 L1334,414.7715 L1344,414.7715 L1334,404.7715 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="1019" y="422.3398">根据VSSID在VSS_Comment_Table中进行查询，得到</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="1019" y="437.6504">相应的评论ID，将这些ID构成的List返回</text><polygon fill="#A80036" points="812,471.3926,802,475.3926,812,479.3926,808,475.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="1352" y1="475.3926" y2="475.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="818" y="470.9609">CommentIDList</text><polygon fill="#A80036" points="1631,500.7031,1641,504.7031,1631,508.7031,1635,504.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="801" x2="1637" y1="504.7031" y2="504.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="808" y="500.2715">GetCommentList(CommentIDList:List&lt;int&gt;):List&lt;String&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1643" x2="1685" y1="540.4795" y2="540.4795"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1685" x2="1685" y1="540.4795" y2="553.4795"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1644" x2="1685" y1="553.4795" y2="553.4795"/><polygon fill="#A80036" points="1654,549.4795,1644,553.4795,1654,557.4795,1650,553.4795" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="1650" y="535.7373">GetCommentList(CommentIDList:List&lt;int&gt;):List&lt;String&gt;</text><path d="M1302,518.0137 L1302,558.0137 L1634,558.0137 L1634,528.0137 L1624,518.0137 L1302,518.0137 " fill="#FBFB77" filter="url(#f1b7b9xpddh185)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1624,518.0137 L1624,528.0137 L1634,528.0137 L1624,518.0137 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="1308" y="535.582">根据所给的评论的ID在Comment_Table中进行查询，</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1308" y="550.8926">将评论整合成List返回</text><polygon fill="#A80036" points="812,584.6348,802,588.6348,812,592.6348,808,588.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="1642" y1="588.6348" y2="588.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="818" y="584.2031">CommentList</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1353" x2="1395" y1="618.2559" y2="618.2559"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1395" x2="1395" y1="618.2559" y2="631.2559"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1354" x2="1395" y1="631.2559" y2="631.2559"/><polygon fill="#A80036" points="1364,627.2559,1354,631.2559,1364,635.2559,1360,631.2559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="1360" y="613.5137">GetCommentUserIDList(VSSID:int):List&lt;int&gt;</text><polygon fill="#A80036" points="812,656.2559,802,660.2559,812,664.2559,808,660.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="1352" y1="660.2559" y2="660.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="818" y="655.8242">CommentUserIDList</text><polygon fill="#A80036" points="2004,685.5664,2014,689.5664,2004,693.5664,2008,689.5664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="801" x2="2010" y1="689.5664" y2="689.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="808" y="685.1348">GetCommentUserNameList(CommentUserIDList:List&lt;int&gt;):List&lt;String&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2016" x2="2058" y1="719.1875" y2="719.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2058" x2="2058" y1="719.1875" y2="732.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2017" x2="2058" y1="732.1875" y2="732.1875"/><polygon fill="#A80036" points="2027,728.1875,2017,732.1875,2027,736.1875,2023,732.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="451" x="2023" y="714.4453">GetCommentUserNameList(CommentUserIDList:List&lt;int&gt;):List&lt;String&gt;</text><polygon fill="#A80036" points="812,757.1875,802,761.1875,812,765.1875,808,761.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="2015" y1="761.1875" y2="761.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="818" y="756.7559">CommentUserNameList</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="801" x2="843" y1="790.8086" y2="790.8086"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="843" x2="843" y1="790.8086" y2="803.8086"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802" x2="843" y1="803.8086" y2="803.8086"/><polygon fill="#A80036" points="812,799.8086,802,803.8086,812,807.8086,808,803.8086" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="808" y="786.0664">Merge(CommentList:List&lt;String&gt;, CommentUserNameList:List&lt;String&gt;):List&lt;String&gt;</text><polygon fill="#A80036" points="112,828.8086,102,832.8086,112,836.8086,108,832.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="800" y1="832.8086" y2="832.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="118" y="828.377">LikeList, CommentList</text><!--
@startuml Diagrams/PreviewVSSServerSequenceDiagram
title PreviewOnlineVSS
hide footbox
skinparam sequenceParticipant underline
actor ":OnlineSoundSpaceLibrary" as Client
participant ":Communicator" as Communicator
participant ":WebServer" as WebServer
participant ":VSSInformationDatabase" as VSSInformationDatabase
participant ":VSSCommentDatabase" as VSSCommentDatabase
participant ":UserDatabase" as UserDatabase
Client->Communicator:PreviewRequest(VSSID:int)List<String>,List<String>
Communicator->WebServer:PreviewRequest(VSSID:int)List<String>,List<String>
WebServer->VSSInformationDatabase:GetLikeUserID(VSSID:int):List<int>
VSSInformationDatabase->VSSInformationDatabase:GetLikeUserID(VSSID:int)
note left: 根据VSSID在VSS_Like_Table中进行查询得到点赞了该VSS的用户的用户名\n并将这些信息整理成List，返回此List
VSSInformationDatabase->WebServer:LikeUserID
WebServer->UserDatabase:GetLikeUserName(LikeUserID:List<int>):List<String>
UserDatabase->UserDatabase:GetLikeUserNameList(LikeUserIDList:List<int>):List<String>
UserDatabase->WebServer:LikeUserNameList
VSSInformationDatabase->VSSInformationDatabase:GetCommentID(VSSID:int):List<int>
note left: 根据VSSID在VSS_Comment_Table中进行查询，得到\n相应的评论ID，将这些ID构成的List返回
VSSInformationDatabase->WebServer:CommentIDList
WebServer->VSSCommentDatabase:GetCommentList(CommentIDList:List<int>):List<String>
VSSCommentDatabase->VSSCommentDatabase:GetCommentList(CommentIDList:List<int>):List<String>
note left: 根据所给的评论的ID在Comment_Table中进行查询，\n将评论整合成List返回
VSSCommentDatabase->WebServer:CommentList
VSSInformationDatabase->VSSInformationDatabase:GetCommentUserIDList(VSSID:int):List<int>
VSSInformationDatabase->WebServer:CommentUserIDList
WebServer->UserDatabase:GetCommentUserNameList(CommentUserIDList:List<int>):List<String>
UserDatabase->UserDatabase:GetCommentUserNameList(CommentUserIDList:List<int>):List<String>
UserDatabase->WebServer:CommentUserNameList
WebServer->WebServer:Merge(CommentList:List<String>, CommentUserNameList:List<String>):List<String>
WebServer->Client:LikeList, CommentList
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>