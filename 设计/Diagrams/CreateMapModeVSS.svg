<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1484px" preserveAspectRatio="none" style="width:1465px;height:1484px;" version="1.1" viewBox="0 0 1465 1484"
    width="1465px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jpwh1qwdxzpv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="755.5" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="762.5" y="146.334">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="762.5" x2="1074.5" y1="148.334" y2="148.334"/><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="676.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="683.5" y="191.8223">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="683.5" x2="734.5" y1="193.8223" y2="193.8223"/><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1095.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1102.5" y="237.3105">:MapSoundSourceViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1102.5" x2="1300.5" y1="239.3105" y2="239.3105"/><rect fill="#FFFFFF" filter="url(#f1jpwh1qwdxzpv)" height="820.4961" style="stroke: #000000; stroke-width: 2.0;" width="1441.5" x="13" y="298.5742"/><rect fill="#FFFFFF" filter="url(#f1jpwh1qwdxzpv)" height="343.7051" style="stroke: #000000; stroke-width: 2.0;" width="724" x="23" y="322.8848"/><rect fill="#FFFFFF" height="85.2207" style="stroke: none; stroke-width: 1.0;" width="724" x="23" y="581.3691"/><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1321.5" y="732.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1328.5" y="752.7461">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1328.5" x2="1423.5" y1="754.7461" y2="754.7461"/><rect fill="#FFFFFF" filter="url(#f1jpwh1qwdxzpv)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1421.5" x="23" y="843.3203"/><rect fill="#FFFFFF" filter="url(#f1jpwh1qwdxzpv)" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="884.5" x="211" y="1021.1836"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="884.5" x="211" y="1067.8047"/><rect fill="#FFFFFF" filter="url(#f1jpwh1qwdxzpv)" height="162.5078" style="stroke: #000000; stroke-width: 2.0;" width="653.5" x="23" y="1191.6914"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="653.5" x="23" y="1309.9336"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="86.4883" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318" x2="318" y1="86.4883" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="318" x2="318" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318" x2="318" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="572.5" y1="86.4883" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="572.5" x2="572.5" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="572.5" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="710.5" x2="710.5" y1="204.0313" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="710.5" x2="710.5" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="710.5" x2="710.5" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="158.543" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="920.5" x2="920.5" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="920.5" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1203.5" x2="1203.5" y1="249.5195" y2="625.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1203.5" x2="1203.5" y1="625.6348" y2="666.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1203.5" x2="1203.5" y1="666.5898" y2="1472.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1377.5" x2="1377.5" y1="764.9551" y2="1472.1309"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="33" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="64" y1="85.5352" y2="85.5352"/><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#f1jpwh1qwdxzpv)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="221" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="177" x="228" y="71.5352">:CreateMapVSSViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="228" x2="405" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="478.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="485.5" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="485.5" x2="655.5" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="306.5,113.7988,316.5,117.7988,306.5,121.7988,310.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="312.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="10" y="113.0566">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="743.5,143.1094,753.5,147.1094,743.5,151.1094,747.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="749.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="142.3672">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="755.5" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="762.5" y="146.334">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="762.5" x2="1074.5" y1="148.334" y2="148.334"/><polygon fill="#A80036" points="664.5,188.5977,674.5,192.5977,664.5,196.5977,668.5,192.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="670.5" y1="192.5977" y2="192.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="187.8555">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="676.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="683.5" y="191.8223">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="683.5" x2="734.5" y1="193.8223" y2="193.8223"/><polygon fill="#A80036" points="1083.5,234.0859,1093.5,238.0859,1083.5,242.0859,1087.5,238.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1089.5" y1="238.0859" y2="238.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="233.3438">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1095.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1102.5" y="237.3105">:MapSoundSourceViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1102.5" x2="1300.5" y1="239.3105" y2="239.3105"/><polygon fill="#A80036" points="1191.5,279.5742,1201.5,283.5742,1191.5,287.5742,1195.5,283.5742" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1197.5" y1="283.5742" y2="283.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="325.5" y="278.832">displayMapSoundSourceList(listOfLocalMapSoundSource):void</text><path d="M13,298.5742 L87,298.5742 L87,305.5742 L77,315.5742 L13,315.5742 L13,298.5742 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="820.4961" style="stroke: #000000; stroke-width: 2.0;" width="1441.5" x="13" y="298.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="312.1426">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="102" y="311.209">[add virual sound source]</text><path d="M23,322.8848 L85,322.8848 L85,329.8848 L75,339.8848 L23,339.8848 L23,322.8848 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="343.7051" style="stroke: #000000; stroke-width: 2.0;" width="724" x="23" y="322.8848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="336.4531">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="100" y="335.5195">[add from library]</text><path d="M56,345.1953 L56,370.1953 L733,370.1953 L733,355.1953 L723,345.1953 L56,345.1953 " fill="#FBFB77" filter="url(#f1jpwh1qwdxzpv)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,345.1953 L723,355.1953 L733,355.1953 L723,345.1953 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="656" x="62" y="362.7637">Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.</text><polygon fill="#A80036" points="306.5,396.8164,316.5,400.8164,306.5,404.8164,310.5,400.8164" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="400.8164" y2="400.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="58.5" y="396.0742">onAddFromLibraryButtonClicked():void</text><polygon fill="#A80036" points="560.5,426.127,570.5,430.127,560.5,434.127,564.5,430.127" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="430.127" y2="430.127"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="325.5" y="425.3848">getLocalSoundFragments</text><polygon fill="#A80036" points="329.5,455.4375,319.5,459.4375,329.5,463.4375,325.5,459.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="323.5" x2="571.5" y1="459.4375" y2="459.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="335.5" y="454.6953">filteredSoundFragments</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="318.5" x2="360.5" y1="488.748" y2="488.748"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="360.5" x2="360.5" y1="488.748" y2="501.748"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="319.5" x2="360.5" y1="501.748" y2="501.748"/><polygon fill="#A80036" points="329.5,497.748,319.5,501.748,329.5,505.748,325.5,501.748" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="325.5" y="484.0059">displayAvailableLocalSoundFragments</text><polygon fill="#A80036" points="306.5,527.0586,316.5,531.0586,306.5,535.0586,310.5,531.0586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="531.0586" y2="531.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="58.5" y="526.3164">selectSoundFragment</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="360.5" y1="560.3691" y2="560.3691"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="360.5" y1="560.3691" y2="573.3691"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319.5" x2="360.5" y1="573.3691" y2="573.3691"/><polygon fill="#A80036" points="329.5,569.3691,319.5,573.3691,329.5,577.3691,325.5,573.3691" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="325.5" y="555.627">addSoundFragment</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="747" y1="582.3691" y2="582.3691"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="28" y="593.0039">[add from file]</text><polygon fill="#A80036" points="306.5,613.6348,316.5,617.6348,306.5,621.6348,310.5,617.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="617.6348" y2="617.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="58.5" y="612.8926">onAddFromFileButtonClicked():void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="500" x="464.75" y="650.2695">somehow CreateMapVSSControl got the new SoundFragment # specify during implementation</text><polygon fill="#A80036" points="699,690.9004,709,694.9004,699,698.9004,703,694.9004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="705" y1="694.9004" y2="694.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="325.5" y="690.1582">getCurrentLocation()</text><polygon fill="#A80036" points="329.5,720.2109,319.5,724.2109,329.5,728.2109,325.5,724.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="323.5" x2="710" y1="724.2109" y2="724.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="335.5" y="719.4688">currentLocation: Position</text><polygon fill="#A80036" points="1309.5,749.5215,1319.5,753.5215,1309.5,757.5215,1313.5,753.5215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1315.5" y1="753.5215" y2="753.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="748.7793">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1jpwh1qwdxzpv)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1321.5" y="732.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1328.5" y="752.7461">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1328.5" x2="1423.5" y1="754.7461" y2="754.7461"/><polygon fill="#A80036" points="1366,795.0098,1376,799.0098,1366,803.0098,1370,799.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1372" y1="799.0098" y2="799.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="325.5" y="794.2676">setSoundFragment</text><polygon fill="#A80036" points="1366,824.3203,1376,828.3203,1366,832.3203,1370,828.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1372" y1="828.3203" y2="828.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="325.5" y="823.5781">setLocation</text><path d="M23,843.3203 L85,843.3203 L85,850.3203 L75,860.3203 L23,860.3203 L23,843.3203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1421.5" x="23" y="843.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="856.8887">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="100" y="855.9551">[user choose to alter position]</text><polygon fill="#A80036" points="306.5,877.9414,316.5,881.9414,306.5,885.9414,310.5,881.9414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="881.9414" y2="881.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="58.5" y="877.1992">setCurrentSoundSourceLocation</text><polygon fill="#A80036" points="1366,907.252,1376,911.252,1366,915.252,1370,911.252" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1372" y1="911.252" y2="911.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="325.5" y="906.5098">setLocation</text><polygon fill="#A80036" points="306.5,943.5625,316.5,947.5625,306.5,951.5625,310.5,947.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="947.5625" y2="947.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="58.5" y="942.8203">setSoundSourceMode</text><polygon fill="#A80036" points="1366,972.873,1376,976.873,1366,980.873,1370,976.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1372" y1="976.873" y2="976.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="972.1309">setSoundSourceMode</text><polygon fill="#A80036" points="1191.5,1002.1836,1201.5,1006.1836,1191.5,1010.1836,1195.5,1006.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1197.5" y1="1006.1836" y2="1006.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="325.5" y="1001.4414">displayMapSoundSourceList(listOfLocalMapSoundSource):void</text><path d="M211,1021.1836 L273,1021.1836 L273,1028.1836 L263,1038.1836 L211,1038.1836 L211,1021.1836 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="884.5" x="211" y="1021.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="226" y="1034.752">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="288" y="1033.8184">[confirm]</text><polygon fill="#A80036" points="908.5,1055.8047,918.5,1059.8047,908.5,1063.8047,912.5,1059.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="914.5" y1="1059.8047" y2="1059.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="325.5" y="1055.0625">addSoundSource(soundSource)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="211" x2="1095.5" y1="1068.8047" y2="1068.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="216" y="1079.4395">[cancel]</text><polygon fill="#A80036" points="908.5,1100.0703,918.5,1104.0703,908.5,1108.0703,912.5,1104.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="914.5" y1="1104.0703" y2="1104.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1099.3281">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="911.5" x2="929.5" y1="1095.0703" y2="1113.0703"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="911.5" x2="929.5" y1="1113.0703" y2="1095.0703"/><polygon fill="#A80036" points="306.5,1143.3809,316.5,1147.3809,306.5,1151.3809,310.5,1147.3809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1147.3809" y2="1147.3809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="58.5" y="1142.6387">setVSSNameAndDescription</text><polygon fill="#A80036" points="908.5,1172.6914,918.5,1176.6914,908.5,1180.6914,912.5,1176.6914" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="914.5" y1="1176.6914" y2="1176.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="325.5" y="1171.9492">setVSSNameAndDescription</text><path d="M23,1191.6914 L85,1191.6914 L85,1198.6914 L75,1208.6914 L23,1208.6914 L23,1191.6914 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="162.5078" style="stroke: #000000; stroke-width: 2.0;" width="653.5" x="23" y="1191.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="1205.2598">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="100" y="1204.3262">[confirm]</text><polygon fill="#A80036" points="306.5,1226.3125,316.5,1230.3125,306.5,1234.3125,310.5,1230.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1230.3125" y2="1230.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="58.5" y="1225.5703">onConfirmButtonClicked(): void</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="360.5" y1="1259.623" y2="1259.623"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="360.5" y1="1259.623" y2="1272.623"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319.5" x2="360.5" y1="1272.623" y2="1272.623"/><polygon fill="#A80036" points="329.5,1268.623,319.5,1272.623,329.5,1276.623,325.5,1272.623" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="325.5" y="1254.8809">comfirmVSSCreation</text><polygon fill="#A80036" points="560.5,1297.9336,570.5,1301.9336,560.5,1305.9336,564.5,1301.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="1301.9336" y2="1301.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="325.5" y="1297.1914">addSoundSpace(newSoundSpace)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="676.5" y1="1310.9336" y2="1310.9336"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="28" y="1321.5684">[cancel]</text><polygon fill="#A80036" points="306.5,1342.1992,316.5,1346.1992,306.5,1350.1992,310.5,1346.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1346.1992" y2="1346.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="58.5" y="1341.457">onCancelButtonClicked(): void</text><polygon fill="#A80036" points="1191.5,1378.5098,1201.5,1382.5098,1191.5,1386.5098,1195.5,1382.5098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1197.5" y1="1382.5098" y2="1382.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1377.7676">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1194.5" x2="1212.5" y1="1373.5098" y2="1391.5098"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1194.5" x2="1212.5" y1="1391.5098" y2="1373.5098"/><polygon fill="#A80036" points="699,1407.8203,709,1411.8203,699,1415.8203,703,1411.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="705" y1="1411.8203" y2="1411.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1407.0781">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="702" x2="720" y1="1402.8203" y2="1420.8203"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="702" x2="720" y1="1420.8203" y2="1402.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="360.5" y1="1441.1309" y2="1441.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="360.5" y1="1441.1309" y2="1454.1309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319.5" x2="360.5" y1="1454.1309" y2="1454.1309"/><polygon fill="#A80036" points="329.5,1450.1309,319.5,1454.1309,329.5,1458.1309,325.5,1454.1309" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1436.3887">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="309.5" x2="327.5" y1="1444.8203" y2="1462.8203"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="309.5" x2="327.5" y1="1462.8203" y2="1444.8203"/><!--
@startuml Diagrams/CreateMapModeVSS
hide footbox
skinparam sequenceParticipant underline


actor User as user
participant ":CreateMapVSSViewModel" as createboundary
participant ":LocalSoundSpaceLibrary" as library
participant ":Sensor" as sensor
participant "newSoundSpace:MapModeVirtualSoundSpace" as newspace


[-> createboundary: <<create>>
create newspace
createboundary -> newspace: <<create>>
create sensor
createboundary -> sensor: <<create>>
participant ":MapSoundSourceViewModel" as mssv
create mssv
createboundary -> mssv: <<create>>
createboundary -> mssv: displayMapSoundSourceList(listOfLocalMapSoundSource):void
loop add virual sound source
    alt add from library
        note right of user: Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.
        user -> createboundary: onAddFromLibraryButtonClicked():void
        createboundary -> library: getLocalSoundFragments
        library - -> createboundary: filteredSoundFragments
        createboundary - -> createboundary: displayAvailableLocalSoundFragments
        user -> createboundary: selectSoundFragment
        createboundary -> createboundary: addSoundFragment
    else add from file
        user -> createboundary: onAddFromFileButtonClicked():void
        ...somehow CreateMapVSSControl got the new SoundFragment # specify during implementation...

    end

    createboundary -> sensor: getCurrentLocation()
    sensor - -> createboundary: currentLocation: Position

    participant ":SoundSource" as source
    create source
    createboundary -> source: <<create>>
    createboundary -> source: setSoundFragment
    createboundary -> source: setLocation

    alt user choose to alter position
        user -> createboundary: setCurrentSoundSourceLocation
        createboundary -> source: setLocation
    end
    user -> createboundary: setSoundSourceMode
    createboundary -> source: setSoundSourceMode
    createboundary -> mssv: displayMapSoundSourceList(listOfLocalMapSoundSource):void
    alt confirm
        createboundary -> newspace: addSoundSource(soundSource)
    else cancel
        createboundary -> newspace: <<destroy>>
        destroy newspace
    end
end
user -> createboundary: setVSSNameAndDescription
createboundary -> newspace: setVSSNameAndDescription
alt confirm
    user -> createboundary: onConfirmButtonClicked(): void
    createboundary -> createboundary: comfirmVSSCreation
    createboundary -> library: addSoundSpace(newSoundSpace)
else cancel
    user -> createboundary: onCancelButtonClicked(): void
end

createboundary -> mssv: <<destroy>>
destroy mssv
createboundary -> sensor: <<destroy>>
destroy sensor
createboundary -> createboundary: <<destroy>>
destroy createboundary
@enduml

PlantUML version 1.2018.02(Sat Mar 10 01:20:44 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Mac OS X
OS Version: 10.11.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>
