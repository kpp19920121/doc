<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1532px" preserveAspectRatio="none" style="width:1695px;height:1532px;" version="1.1" viewBox="0 0 1695 1532"
    width="1695px" zoomAndPan="magnify"><defs><filter height="300%" id="fi63h3hyrse9x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="486" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="493" y="146.334">:CreateMapVSSControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="493" x2="648" y1="148.334" y2="148.334"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="985.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="992.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="992.5" x2="1304.5" y1="193.8223" y2="193.8223"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="906.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="913.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="913.5" x2="964.5" y1="239.3105" y2="239.3105"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1325.5" y="262.2637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1332.5" y="282.7988">:MapSoundSourceViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1332.5" x2="1530.5" y1="284.7988" y2="284.7988"/><rect fill="#FFFFFF" filter="url(#fi63h3hyrse9x)" height="836.8066" style="stroke: #000000; stroke-width: 2.0;" width="1671.5" x="13" y="344.0625"/><rect fill="#FFFFFF" filter="url(#fi63h3hyrse9x)" height="330.7051" style="stroke: #000000; stroke-width: 2.0;" width="883.5" x="23" y="368.373"/><rect fill="#FFFFFF" height="85.2207" style="stroke: none; stroke-width: 1.0;" width="883.5" x="23" y="613.8574"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1551.5" y="764.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1558.5" y="785.2344">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1558.5" x2="1653.5" y1="787.2344" y2="787.2344"/><rect fill="#FFFFFF" filter="url(#fi63h3hyrse9x)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1651.5" x="23" y="875.8086"/><rect fill="#FFFFFF" filter="url(#fi63h3hyrse9x)" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="849.5" x="476" y="1082.9824"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="849.5" x="476" y="1129.6035"/><rect fill="#FFFFFF" filter="url(#fi63h3hyrse9x)" height="120.1973" style="stroke: #000000; stroke-width: 2.0;" width="883.5" x="23" y="1282.8008"/><rect fill="#FFFFFF" height="14.9551" style="stroke: none; stroke-width: 1.0;" width="883.5" x="23" y="1388.043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="86.4883" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="86.4883" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="318.5" x2="318.5" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="572" y1="158.543" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="572" x2="572" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="572" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="86.4883" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="802.5" x2="802.5" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="802.5" x2="802.5" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="940.5" x2="940.5" y1="249.5195" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="940.5" x2="940.5" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="940.5" x2="940.5" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1150.5" x2="1150.5" y1="204.0313" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1150.5" x2="1150.5" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1150.5" x2="1150.5" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1433.5" x2="1433.5" y1="295.0078" y2="658.123"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1433.5" x2="1433.5" y1="658.123" y2="699.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1433.5" x2="1433.5" y1="699.0781" y2="1520.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1607.5" x2="1607.5" y1="797.4434" y2="1520.9297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="33" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="64" y1="85.5352" y2="85.5352"/><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#fi63h3hyrse9x)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#fi63h3hyrse9x)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="241.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="136" x="248.5" y="71.5352">:CreateMapVSSPage</text><line style="stroke: #000000; stroke-width: 1.0;" x1="248.5" x2="384.5" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="708.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="715.5" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="715.5" x2="885.5" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="306.5,113.4883,316.5,117.4883,306.5,121.4883,310.5,117.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="312.5" y1="117.4883" y2="117.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="10" y="113.0566">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="474,142.7988,484,146.7988,474,150.7988,478,146.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="480" y1="146.7988" y2="146.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="142.3672">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="486" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="493" y="146.334">:CreateMapVSSControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="493" x2="648" y1="148.334" y2="148.334"/><polygon fill="#A80036" points="973.5,188.2871,983.5,192.2871,973.5,196.2871,977.5,192.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="979.5" y1="192.2871" y2="192.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="579.5" y="187.8555">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="985.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="992.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="992.5" x2="1304.5" y1="193.8223" y2="193.8223"/><polygon fill="#A80036" points="894.5,233.7754,904.5,237.7754,894.5,241.7754,898.5,237.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="900.5" y1="237.7754" y2="237.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="233.3438">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="906.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="913.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="913.5" x2="964.5" y1="239.3105" y2="239.3105"/><polygon fill="#A80036" points="1313.5,279.2637,1323.5,283.2637,1313.5,287.2637,1317.5,283.2637" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1319.5" y1="283.2637" y2="283.2637"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="325.5" y="278.832">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1325.5" y="262.2637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1332.5" y="282.7988">:MapSoundSourceViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1332.5" x2="1530.5" y1="284.7988" y2="284.7988"/><polygon fill="#A80036" points="1421.5,324.752,1431.5,328.752,1421.5,332.752,1425.5,328.752" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1427.5" y1="328.752" y2="328.752"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="325.5" y="324.3203">displayMapSoundSourceList(listOfLocalMapSoundSource):void</text><path d="M13,344.0625 L87,344.0625 L87,351.0625 L77,361.0625 L13,361.0625 L13,344.0625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="836.8066" style="stroke: #000000; stroke-width: 2.0;" width="1671.5" x="13" y="344.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="357.6309">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="102" y="356.6973">[add virual sound source]</text><path d="M23,368.373 L85,368.373 L85,375.373 L75,385.373 L23,385.373 L23,368.373 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="330.7051" style="stroke: #000000; stroke-width: 2.0;" width="883.5" x="23" y="368.373"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="381.9414">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="100" y="381.0078">[add from library]</text><path d="M56,390.6836 L56,415.6836 L733,415.6836 L733,400.6836 L723,390.6836 L56,390.6836 " fill="#FBFB77" filter="url(#fi63h3hyrse9x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,390.6836 L723,400.6836 L733,400.6836 L723,390.6836 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="656" x="62" y="408.252">Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.</text><polygon fill="#A80036" points="306.5,441.9941,316.5,445.9941,306.5,449.9941,310.5,445.9941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="445.9941" y2="445.9941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="58.5" y="441.5625">onAddFromLibraryButtonClicked():void</text><polygon fill="#A80036" points="790.5,471.3047,800.5,475.3047,790.5,479.3047,794.5,475.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="796.5" y1="475.3047" y2="475.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="325.5" y="470.873">getLocalSoundFragments</text><polygon fill="#A80036" points="329.5,500.6152,319.5,504.6152,329.5,508.6152,325.5,504.6152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="323.5" x2="801.5" y1="504.6152" y2="504.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="335.5" y="500.1836">filteredSoundFragments</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="318.5" x2="360.5" y1="534.2363" y2="534.2363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="360.5" x2="360.5" y1="534.2363" y2="547.2363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="319.5" x2="360.5" y1="547.2363" y2="547.2363"/><polygon fill="#A80036" points="329.5,543.2363,319.5,547.2363,329.5,551.2363,325.5,547.2363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="325.5" y="529.4941">displayAvailableLocalSoundFragments</text><polygon fill="#A80036" points="306.5,572.2363,316.5,576.2363,306.5,580.2363,310.5,576.2363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="576.2363" y2="576.2363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="58.5" y="571.8047">selectSoundFragment</text><polygon fill="#A80036" points="560.5,601.5469,570.5,605.5469,560.5,609.5469,564.5,605.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="605.5469" y2="605.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="325.5" y="601.1152">addSoundFragment</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="906.5" y1="614.8574" y2="614.8574"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="28" y="625.4922">[add from file]</text><polygon fill="#A80036" points="306.5,645.8125,316.5,649.8125,306.5,653.8125,310.5,649.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="649.8125" y2="649.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="58.5" y="645.3809">onAddFromFileButtonClicked():void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="500" x="579.75" y="682.7578">somehow CreateMapVSSControl got the new SoundFragment # specify during implementation</text><polygon fill="#A80036" points="929,723.0781,939,727.0781,929,731.0781,933,727.0781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="935" y1="727.0781" y2="727.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="579.5" y="722.6465">getCurrentLocation()</text><polygon fill="#A80036" points="583.5,752.3887,573.5,756.3887,583.5,760.3887,579.5,756.3887" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="577.5" x2="940" y1="756.3887" y2="756.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="589.5" y="751.957">currentLocation: Position</text><polygon fill="#A80036" points="1539.5,781.6992,1549.5,785.6992,1539.5,789.6992,1543.5,785.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1545.5" y1="785.6992" y2="785.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="579.5" y="781.2676">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fi63h3hyrse9x)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1551.5" y="764.6992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1558.5" y="785.2344">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1558.5" x2="1653.5" y1="787.2344" y2="787.2344"/><polygon fill="#A80036" points="1596,827.1875,1606,831.1875,1596,835.1875,1600,831.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1602" y1="831.1875" y2="831.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="579.5" y="826.7559">setSoundFragment</text><polygon fill="#A80036" points="1596,856.498,1606,860.498,1596,864.498,1600,860.498" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1602" y1="860.498" y2="860.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="579.5" y="856.0664">setLocation</text><path d="M23,875.8086 L85,875.8086 L85,882.8086 L75,892.8086 L23,892.8086 L23,875.8086 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1651.5" x="23" y="875.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="889.377">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="100" y="888.4434">[user choose to alter position]</text><polygon fill="#A80036" points="306.5,910.1191,316.5,914.1191,306.5,918.1191,310.5,914.1191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="914.1191" y2="914.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="58.5" y="909.6875">setCurrentSoundSourceLocation</text><polygon fill="#A80036" points="560.5,939.4297,570.5,943.4297,560.5,947.4297,564.5,943.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="943.4297" y2="943.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="325.5" y="938.998">setLocation</text><polygon fill="#A80036" points="1596,968.7402,1606,972.7402,1596,976.7402,1600,972.7402" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1602" y1="972.7402" y2="972.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="579.5" y="968.3086">setLocation</text><polygon fill="#A80036" points="306.5,1005.0508,316.5,1009.0508,306.5,1013.0508,310.5,1009.0508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1009.0508" y2="1009.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="58.5" y="1004.6191">setSoundSourceMode</text><polygon fill="#A80036" points="1596,1034.3613,1606,1038.3613,1596,1042.3613,1600,1038.3613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1602" y1="1038.3613" y2="1038.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="1033.9297">setSoundSourceMode</text><polygon fill="#A80036" points="1421.5,1063.6719,1431.5,1067.6719,1421.5,1071.6719,1425.5,1067.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="1427.5" y1="1067.6719" y2="1067.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="325.5" y="1063.2402">displayMapSoundSourceList(listOfLocalMapSoundSource):void</text><path d="M476,1082.9824 L538,1082.9824 L538,1089.9824 L528,1099.9824 L476,1099.9824 L476,1082.9824 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="849.5" x="476" y="1082.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="491" y="1096.5508">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="553" y="1095.6172">[confirm]</text><polygon fill="#A80036" points="1138.5,1117.293,1148.5,1121.293,1138.5,1125.293,1142.5,1121.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1144.5" y1="1121.293" y2="1121.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="579.5" y="1116.8613">addSoundSource(soundSource)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="476" x2="1325.5" y1="1130.6035" y2="1130.6035"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="481" y="1141.2383">[cancel]</text><polygon fill="#A80036" points="1138.5,1161.5586,1148.5,1165.5586,1138.5,1169.5586,1142.5,1165.5586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1144.5" y1="1165.5586" y2="1165.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="579.5" y="1161.127">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1141.5" x2="1159.5" y1="1156.5586" y2="1174.5586"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1141.5" x2="1159.5" y1="1174.5586" y2="1156.5586"/><polygon fill="#A80036" points="306.5,1204.8691,316.5,1208.8691,306.5,1212.8691,310.5,1208.8691" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1208.8691" y2="1208.8691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="58.5" y="1204.4375">setVSSNameAndDescription</text><polygon fill="#A80036" points="560.5,1234.1797,570.5,1238.1797,560.5,1242.1797,564.5,1238.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="1238.1797" y2="1238.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="325.5" y="1233.748">setVSSNameAndDescription</text><polygon fill="#A80036" points="1138.5,1263.4902,1148.5,1267.4902,1138.5,1271.4902,1142.5,1267.4902" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="1144.5" y1="1267.4902" y2="1267.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="579.5" y="1263.0586">setVSSNameAndDescription</text><path d="M23,1282.8008 L85,1282.8008 L85,1289.8008 L75,1299.8008 L23,1299.8008 L23,1282.8008 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="120.1973" style="stroke: #000000; stroke-width: 2.0;" width="883.5" x="23" y="1282.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="1296.3691">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="100" y="1295.4355">[confirm]</text><polygon fill="#A80036" points="306.5,1317.1113,316.5,1321.1113,306.5,1325.1113,310.5,1321.1113" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="312.5" y1="1321.1113" y2="1321.1113"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="58.5" y="1316.6797">comfirmVSSCreation</text><polygon fill="#A80036" points="560.5,1346.4219,570.5,1350.4219,560.5,1354.4219,564.5,1350.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="566.5" y1="1350.4219" y2="1350.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="325.5" y="1345.9902">comfirmVSSCreation</text><polygon fill="#A80036" points="790.5,1375.7324,800.5,1379.7324,790.5,1383.7324,794.5,1379.7324" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="796.5" y1="1379.7324" y2="1379.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="579.5" y="1375.3008">addSoundSpace(newSoundSpace)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="906.5" y1="1389.043" y2="1389.043"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="28" y="1399.6777">[cancel]</text><polygon fill="#A80036" points="929,1426.998,939,1430.998,929,1434.998,933,1430.998" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="935" y1="1430.998" y2="1430.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1426.5664">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="932" x2="950" y1="1421.998" y2="1439.998"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="932" x2="950" y1="1439.998" y2="1421.998"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="360.5" y1="1460.6191" y2="1460.6191"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="360.5" x2="360.5" y1="1460.6191" y2="1473.6191"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319.5" x2="360.5" y1="1473.6191" y2="1473.6191"/><polygon fill="#A80036" points="329.5,1469.6191,319.5,1473.6191,329.5,1477.6191,325.5,1473.6191" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="325.5" y="1455.877">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="309.5" x2="327.5" y1="1464.3086" y2="1482.3086"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="309.5" x2="327.5" y1="1482.3086" y2="1464.3086"/><polygon fill="#A80036" points="929,1498.6191,939,1502.6191,929,1506.6191,933,1502.6191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572.5" x2="935" y1="1502.6191" y2="1502.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="579.5" y="1498.1875">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="932" x2="950" y1="1493.6191" y2="1511.6191"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="932" x2="950" y1="1511.6191" y2="1493.6191"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="563.5" x2="581.5" y1="1493.6191" y2="1511.6191"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="563.5" x2="581.5" y1="1511.6191" y2="1493.6191"/><!--
@startuml Diagrams/CreateMapModeVSS
hide footbox
skinparam sequenceParticipant underline


actor User as user
participant ":CreateMapVSSPage" as createboundary
participant ":CreateMapVSSControl" as createcontrol
participant ":LocalSoundSpaceLibrary" as library
participant ":Sensor" as sensor
participant "newSoundSpace:MapModeVirtualSoundSpace" as newspace


[-> createboundary: <<create>>
create createcontrol
createboundary -> createcontrol: <<create>>
create newspace
createcontrol -> newspace: <<create>>
create sensor
createboundary -> sensor: <<create>>
participant ":MapSoundSourceViewModel" as mssv
create mssv
createboundary -> mssv: <<create>>
createboundary -> mssv: displayMapSoundSourceList(listOfLocalMapSoundSource):void
loop add virual sound source
    alt add from library
        note right of user: Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.
        user -> createboundary: onAddFromLibraryButtonClicked():void
        createboundary -> library: getLocalSoundFragments
        library - -> createboundary: filteredSoundFragments
        createboundary - -> createboundary: displayAvailableLocalSoundFragments
        user -> createboundary: selectSoundFragment
        createboundary -> createcontrol: addSoundFragment
    else add from file
        user -> createboundary: onAddFromFileButtonClicked():void
        ...somehow CreateMapVSSControl got the new SoundFragment # specify during implementation...

    end

    createcontrol -> sensor: getCurrentLocation()
    sensor - -> createcontrol: currentLocation: Position

    participant ":SoundSource" as source
    create source
    createcontrol -> source: <<create>>
    createcontrol -> source: setSoundFragment
    createcontrol -> source: setLocation

    alt user choose to alter position
        user -> createboundary: setCurrentSoundSourceLocation
        createboundary -> createcontrol : setLocation
        createcontrol -> source: setLocation
    end
    user -> createboundary: setSoundSourceMode
    createboundary -> source: setSoundSourceMode
    createboundary -> mssv: displayMapSoundSourceList(listOfLocalMapSoundSource):void
    alt confirm
        createcontrol -> newspace: addSoundSource(soundSource)
    else cancel
        createcontrol -> newspace: <<destroy>>
        destroy newspace
    end
end
user -> createboundary: setVSSNameAndDescription
createboundary -> createcontrol: setVSSNameAndDescription
createcontrol -> newspace: setVSSNameAndDescription
alt confirm
    user -> createboundary: comfirmVSSCreation
    createboundary -> createcontrol: comfirmVSSCreation
    createcontrol -> library: addSoundSpace(newSoundSpace)
else cancel

end
createboundary -> sensor: <<destroy>>
destroy sensor
createboundary -> createboundary: <<destroy>>
destroy createboundary
createcontrol -> sensor: <<destroy>>
destroy sensor
destroy createcontrol
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>