<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1321px" preserveAspectRatio="none" style="width:1197px;height:1321px;" version="1.1" viewBox="0 0 1197 1321"
    width="1197px" zoomAndPan="magnify"><defs><filter height="300%" id="fs2hzobhxwkhx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="713.5" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="720.5" y="146.334">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="720.5" x2="1032.5" y1="148.334" y2="148.334"/><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="634.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="641.5" y="191.8223">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="641.5" x2="692.5" y1="193.8223" y2="193.8223"/><rect fill="#FFFFFF" filter="url(#fs2hzobhxwkhx)" height="791.1855" style="stroke: #000000; stroke-width: 2.0;" width="1173.5" x="13" y="223.7754"/><rect fill="#FFFFFF" filter="url(#fs2hzobhxwkhx)" height="343.7051" style="stroke: #000000; stroke-width: 2.0;" width="724" x="23" y="248.0859"/><rect fill="#FFFFFF" height="85.2207" style="stroke: none; stroke-width: 1.0;" width="724" x="23" y="506.5703"/><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1053.5" y="657.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1060.5" y="677.9473">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1060.5" x2="1155.5" y1="679.9473" y2="679.9473"/><rect fill="#FFFFFF" filter="url(#fs2hzobhxwkhx)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1153.5" x="23" y="768.5215"/><rect fill="#FFFFFF" filter="url(#fs2hzobhxwkhx)" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="884.5" x="169" y="917.0742"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="884.5" x="169" y="963.6953"/><rect fill="#FFFFFF" filter="url(#fs2hzobhxwkhx)" height="133.1973" style="stroke: #000000; stroke-width: 2.0;" width="611.5" x="23" y="1087.582"/><rect fill="#FFFFFF" height="14.9551" style="stroke: none; stroke-width: 1.0;" width="611.5" x="23" y="1205.8242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="86.4883" y2="550.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="550.8359" y2="591.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="591.791" y2="1309.4004"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276" x2="276" y1="86.4883" y2="550.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="276" x2="276" y1="550.8359" y2="591.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276" x2="276" y1="591.791" y2="1309.4004"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="530.5" x2="530.5" y1="86.4883" y2="550.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="530.5" x2="530.5" y1="550.8359" y2="591.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="530.5" x2="530.5" y1="591.791" y2="1309.4004"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="668.5" x2="668.5" y1="204.0313" y2="550.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="668.5" x2="668.5" y1="550.8359" y2="591.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="668.5" x2="668.5" y1="591.791" y2="1309.4004"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="878.5" x2="878.5" y1="158.543" y2="550.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="878.5" x2="878.5" y1="550.8359" y2="591.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="878.5" x2="878.5" y1="591.791" y2="1309.4004"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1109.5" x2="1109.5" y1="690.1563" y2="1309.4004"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="33" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="64" y1="85.5352" y2="85.5352"/><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#fs2hzobhxwkhx)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="179" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="177" x="186" y="71.5352">:CreateMapVSSViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="186" x2="363" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="436.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="443.5" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="443.5" x2="613.5" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="264.5,113.7988,274.5,117.7988,264.5,121.7988,268.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="270.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="10" y="113.0566">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="701.5,143.1094,711.5,147.1094,701.5,151.1094,705.5,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="707.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="283.5" y="142.3672">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="713.5" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="720.5" y="146.334">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="720.5" x2="1032.5" y1="148.334" y2="148.334"/><polygon fill="#A80036" points="622.5,188.5977,632.5,192.5977,622.5,196.5977,626.5,192.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="628.5" y1="192.5977" y2="192.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="283.5" y="187.8555">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="634.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="641.5" y="191.8223">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="641.5" x2="692.5" y1="193.8223" y2="193.8223"/><path d="M13,223.7754 L87,223.7754 L87,230.7754 L77,240.7754 L13,240.7754 L13,223.7754 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="791.1855" style="stroke: #000000; stroke-width: 2.0;" width="1173.5" x="13" y="223.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="237.3438">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="102" y="236.4102">[add virual sound source]</text><path d="M23,248.0859 L85,248.0859 L85,255.0859 L75,265.0859 L23,265.0859 L23,248.0859 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="343.7051" style="stroke: #000000; stroke-width: 2.0;" width="724" x="23" y="248.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="261.6543">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="100" y="260.7207">[add from library]</text><path d="M56,270.3965 L56,295.3965 L733,295.3965 L733,280.3965 L723,270.3965 L56,270.3965 " fill="#FBFB77" filter="url(#fs2hzobhxwkhx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,270.3965 L723,280.3965 L733,280.3965 L723,270.3965 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="656" x="62" y="287.9648">Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.</text><polygon fill="#A80036" points="264.5,322.0176,274.5,326.0176,264.5,330.0176,268.5,326.0176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="326.0176" y2="326.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="58.5" y="321.2754">selectExistedSoundSource</text><polygon fill="#A80036" points="518.5,351.3281,528.5,355.3281,518.5,359.3281,522.5,355.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="524.5" y1="355.3281" y2="355.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="283.5" y="350.5859">getLocalSoundFragments</text><polygon fill="#A80036" points="287.5,380.6387,277.5,384.6387,287.5,388.6387,283.5,384.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="281.5" x2="529.5" y1="384.6387" y2="384.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="293.5" y="379.8965">filteredSoundFragments</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="276.5" x2="318.5" y1="413.9492" y2="413.9492"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="318.5" x2="318.5" y1="413.9492" y2="426.9492"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="277.5" x2="318.5" y1="426.9492" y2="426.9492"/><polygon fill="#A80036" points="287.5,422.9492,277.5,426.9492,287.5,430.9492,283.5,426.9492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="283.5" y="409.207">displayAvailableLocalSoundFragments</text><polygon fill="#A80036" points="264.5,452.2598,274.5,456.2598,264.5,460.2598,268.5,456.2598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="456.2598" y2="456.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="58.5" y="451.5176">selectSoundFragment</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="318.5" y1="485.5703" y2="485.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="485.5703" y2="498.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="318.5" y1="498.5703" y2="498.5703"/><polygon fill="#A80036" points="287.5,494.5703,277.5,498.5703,287.5,502.5703,283.5,498.5703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="283.5" y="480.8281">addSoundFragment</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="747" y1="507.5703" y2="507.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="28" y="518.2051">[add from file]</text><polygon fill="#A80036" points="264.5,538.8359,274.5,542.8359,264.5,546.8359,268.5,542.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="542.8359" y2="542.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="58.5" y="538.0938">selectFromFileSystem</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="500" x="330.75" y="575.4707">somehow CreateMapVSSControl got the new SoundFragment # specify during implementation</text><polygon fill="#A80036" points="657,616.1016,667,620.1016,657,624.1016,661,620.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="663" y1="620.1016" y2="620.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="283.5" y="615.3594">getCurrentLocation()</text><polygon fill="#A80036" points="287.5,645.4121,277.5,649.4121,287.5,653.4121,283.5,649.4121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="281.5" x2="668" y1="649.4121" y2="649.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="293.5" y="644.6699">currentLocation: Position</text><polygon fill="#A80036" points="1041.5,674.7227,1051.5,678.7227,1041.5,682.7227,1045.5,678.7227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1047.5" y1="678.7227" y2="678.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="283.5" y="673.9805">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fs2hzobhxwkhx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1053.5" y="657.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1060.5" y="677.9473">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1060.5" x2="1155.5" y1="679.9473" y2="679.9473"/><polygon fill="#A80036" points="1098,720.2109,1108,724.2109,1098,728.2109,1102,724.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1104" y1="724.2109" y2="724.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="283.5" y="719.4688">setSoundFragment</text><polygon fill="#A80036" points="1098,749.5215,1108,753.5215,1098,757.5215,1102,753.5215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1104" y1="753.5215" y2="753.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="283.5" y="748.7793">setLocation</text><path d="M23,768.5215 L85,768.5215 L85,775.5215 L75,785.5215 L23,785.5215 L23,768.5215 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1153.5" x="23" y="768.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="782.0898">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="100" y="781.1563">[user choose to alter position]</text><polygon fill="#A80036" points="264.5,803.1426,274.5,807.1426,264.5,811.1426,268.5,807.1426" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="807.1426" y2="807.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="58.5" y="802.4004">setCurrentSoundSourceLocation</text><polygon fill="#A80036" points="1098,832.4531,1108,836.4531,1098,840.4531,1102,836.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1104" y1="836.4531" y2="836.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="283.5" y="831.7109">setLocation</text><polygon fill="#A80036" points="264.5,868.7637,274.5,872.7637,264.5,876.7637,268.5,872.7637" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="872.7637" y2="872.7637"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="58.5" y="868.0215">setSoundSourceMode</text><polygon fill="#A80036" points="1098,898.0742,1108,902.0742,1098,906.0742,1102,902.0742" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1104" y1="902.0742" y2="902.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="283.5" y="897.332">setSoundSourceMode</text><path d="M169,917.0742 L231,917.0742 L231,924.0742 L221,934.0742 L169,934.0742 L169,917.0742 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="884.5" x="169" y="917.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="184" y="930.6426">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="246" y="929.709">[confirm]</text><polygon fill="#A80036" points="866.5,951.6953,876.5,955.6953,866.5,959.6953,870.5,955.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="872.5" y1="955.6953" y2="955.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="283.5" y="950.9531">addSoundSource(soundSource)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="169" x2="1053.5" y1="964.6953" y2="964.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="174" y="975.3301">[cancel]</text><polygon fill="#A80036" points="866.5,995.9609,876.5,999.9609,866.5,1003.9609,870.5,999.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="872.5" y1="999.9609" y2="999.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="283.5" y="995.2188">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="869.5" x2="887.5" y1="990.9609" y2="1008.9609"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="869.5" x2="887.5" y1="1008.9609" y2="990.9609"/><polygon fill="#A80036" points="264.5,1039.2715,274.5,1043.2715,264.5,1047.2715,268.5,1043.2715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1043.2715" y2="1043.2715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="58.5" y="1038.5293">setVSSNameAndDescription</text><polygon fill="#A80036" points="866.5,1068.582,876.5,1072.582,866.5,1076.582,870.5,1072.582" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="872.5" y1="1072.582" y2="1072.582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="283.5" y="1067.8398">setVSSNameAndDescription</text><path d="M23,1087.582 L85,1087.582 L85,1094.582 L75,1104.582 L23,1104.582 L23,1087.582 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.1973" style="stroke: #000000; stroke-width: 2.0;" width="611.5" x="23" y="1087.582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="1101.1504">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="100" y="1100.2168">[confirm]</text><polygon fill="#A80036" points="264.5,1122.2031,274.5,1126.2031,264.5,1130.2031,268.5,1126.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1126.2031" y2="1126.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="58.5" y="1121.4609">comfirmVSSCreation</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="318.5" y1="1155.5137" y2="1155.5137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="1155.5137" y2="1168.5137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="318.5" y1="1168.5137" y2="1168.5137"/><polygon fill="#A80036" points="287.5,1164.5137,277.5,1168.5137,287.5,1172.5137,283.5,1168.5137" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="283.5" y="1150.7715">comfirmVSSCreation</text><polygon fill="#A80036" points="518.5,1193.8242,528.5,1197.8242,518.5,1201.8242,522.5,1197.8242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="524.5" y1="1197.8242" y2="1197.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="283.5" y="1193.082">addSoundSpace(newSoundSpace)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="634.5" y1="1206.8242" y2="1206.8242"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="28" y="1217.459">[cancel]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="318.5" y1="1249.0898" y2="1249.0898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="318.5" x2="318.5" y1="1249.0898" y2="1262.0898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277.5" x2="318.5" y1="1262.0898" y2="1262.0898"/><polygon fill="#A80036" points="287.5,1258.0898,277.5,1262.0898,287.5,1266.0898,283.5,1262.0898" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="283.5" y="1244.3477">&lt;&lt;destroy&gt;&gt;</text><polygon fill="#A80036" points="657,1287.4004,667,1291.4004,657,1295.4004,661,1291.4004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="663" y1="1291.4004" y2="1291.4004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="283.5" y="1286.6582">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="660" x2="678" y1="1282.4004" y2="1300.4004"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="660" x2="678" y1="1300.4004" y2="1282.4004"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1282.4004" y2="1300.4004"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1300.4004" y2="1282.4004"/><!--
@startuml Diagrams/CreateMapModeVSS
hide footbox
skinparam sequenceParticipant underline


actor User as user
participant ":CreateMapVSSViewModel" as createboundary
participant ":LocalSoundSpaceLibrary" as library
participant ":Sensor" as sensor
participant "newSoundSpace:MapModeVirtualSoundSpace" as newspace


[-> createboundary: <<create>>
create newspace
createboundary -> newspace: <<create>>
create sensor
createboundary -> sensor: <<create>>
loop add virual sound source
    alt add from library
        note right of user: Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.
        user -> createboundary: selectExistedSoundSource
        createboundary -> library: getLocalSoundFragments
        library - -> createboundary: filteredSoundFragments
        createboundary - -> createboundary: displayAvailableLocalSoundFragments
        user -> createboundary: selectSoundFragment
        createboundary -> createboundary: addSoundFragment
    else add from file
        user -> createboundary: selectFromFileSystem
        ...somehow CreateMapVSSControl got the new SoundFragment # specify during implementation...

    end

    createboundary -> sensor: getCurrentLocation()
    sensor - -> createboundary: currentLocation: Position

    participant ":SoundSource" as source
    create source
    createboundary -> source: <<create>>
    createboundary -> source: setSoundFragment
    createboundary -> source: setLocation

    alt user choose to alter position
        user -> createboundary: setCurrentSoundSourceLocation
        createboundary -> source: setLocation
    end
    user -> createboundary: setSoundSourceMode
    createboundary -> source: setSoundSourceMode
    alt confirm
        createboundary -> newspace: addSoundSource(soundSource)
    else cancel
        createboundary -> newspace: <<destroy>>
        destroy newspace
    end
end
user -> createboundary: setVSSNameAndDescription
createboundary -> newspace: setVSSNameAndDescription
alt confirm
    user -> createboundary: comfirmVSSCreation
    createboundary -> createboundary: comfirmVSSCreation
    createboundary -> library: addSoundSpace(newSoundSpace)
else cancel

end
createboundary -> createboundary: <<destroy>>
createboundary -> sensor: <<destroy>>
destroy sensor
destroy createboundary
@enduml

PlantUML version 1.2018.02(Sat Mar 10 01:20:44 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Mac OS X
OS Version: 10.11.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>
