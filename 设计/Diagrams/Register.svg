<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="764px" preserveAspectRatio="none" style="width:1487px;height:764px;" version="1.1" viewBox="0 0 1487 764"
    width="1487px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ryg72z87btmt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="426.5" y="165.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="134" x="433.5" y="185.6445">:RegisterViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="433.5" x2="567.5" y1="187.6445" y2="187.6445"/><rect fill="#FFFFFF" filter="url(#f1ryg72z87btmt)" height="297.7949" style="stroke: #000000; stroke-width: 2.0;" width="1454.5" x="12" y="246.9082"/><rect fill="#FFFFFF" filter="url(#f1ryg72z87btmt)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="276" x="908.5" y="630.3242"/><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1207.5" y="696.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1214.5" y="717.4805">:LocalVSSManagerViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1214.5" x2="1412.5" y1="719.4805" y2="719.4805"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="86.4883" y2="752.4336"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="324.5" x2="324.5" y1="86.4883" y2="752.4336"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="502.5" x2="502.5" y1="197.8535" y2="752.4336"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="984.5" x2="984.5" y1="86.4883" y2="752.4336"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1315.5" x2="1315.5" y1="729.6895" y2="752.4336"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="84" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="84" x2="115" y1="85.5352" y2="85.5352"/><ellipse cx="102.5" cy="13" fill="#FEFECE" filter="url(#f1ryg72z87btmt)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M102.5,21 L102.5,48 M89.5,29 L115.5,29 M102.5,48 L89.5,63 M102.5,48 L115.5,63 " fill="none" filter="url(#f1ryg72z87btmt)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="257.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="116" x="264.5" y="71.5352">:LoginViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="264.5" x2="380.5" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="918.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="114" x="925.5" y="71.5352">:UserInfoControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="925.5" x2="1039.5" y1="73.5352" y2="73.5352"/><path d="M989,101.4883 L989,126.4883 L1449,126.4883 L1449,111.4883 L1439,101.4883 L989,101.4883 " fill="#FBFB77" filter="url(#f1ryg72z87btmt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1439,101.4883 L1439,111.4883 L1449,111.4883 L1439,101.4883 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="439" x="995" y="119.0566">The UserInfoControl is activated since the start of the entire program.</text><polygon fill="#A80036" points="312.5,152.7988,322.5,156.7988,312.5,160.7988,316.5,156.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102.5" x2="318.5" y1="156.7988" y2="156.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="109.5" y="152.3672">onRegisterButtonClicked(): void</text><polygon fill="#A80036" points="414.5,182.1094,424.5,186.1094,414.5,190.1094,418.5,186.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324.5" x2="420.5" y1="186.1094" y2="186.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="331.5" y="181.6777">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="426.5" y="165.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="134" x="433.5" y="185.6445">:RegisterViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="433.5" x2="567.5" y1="187.6445" y2="187.6445"/><polygon fill="#A80036" points="490.5,227.5977,500.5,231.5977,490.5,235.5977,494.5,231.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102.5" x2="496.5" y1="231.5977" y2="231.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="109.5" y="227.166">onRememberButtonToggled(): void</text><path d="M12,246.9082 L86,246.9082 L86,253.9082 L76,263.9082 L12,263.9082 L12,246.9082 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="297.7949" style="stroke: #000000; stroke-width: 2.0;" width="1454.5" x="12" y="246.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="27" y="260.4766">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="229" x="101" y="259.543">[not finished or incorrect or UserID is 0]</text><path d="M107,269.2188 L107,294.2188 L539,294.2188 L539,279.2188 L529,269.2188 L107,269.2188 " fill="#FBFB77" filter="url(#f1ryg72z87btmt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M529,269.2188 L529,279.2188 L539,279.2188 L529,269.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="411" x="113" y="286.7871">the UI will give the user some reaction if the form is not finished.</text><polygon fill="#A80036" points="490.5,320.5293,500.5,324.5293,490.5,328.5293,494.5,324.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102.5" x2="496.5" y1="324.5293" y2="324.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="109.5" y="320.0977">onChangeRegisterData(): void</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="502.5" x2="544.5" y1="354.1504" y2="354.1504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="544.5" x2="544.5" y1="354.1504" y2="367.1504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503.5" x2="544.5" y1="367.1504" y2="367.1504"/><polygon fill="#A80036" points="513.5,363.1504,503.5,367.1504,513.5,371.1504,509.5,367.1504" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="509.5" y="349.4082">checkInputLegitimate(): void</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="502.5" x2="544.5" y1="396.4609" y2="396.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="544.5" x2="544.5" y1="396.4609" y2="409.4609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503.5" x2="544.5" y1="409.4609" y2="409.4609"/><polygon fill="#A80036" points="513.5,405.4609,503.5,409.4609,513.5,413.4609,509.5,409.4609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="509.5" y="391.7188">checkPasswordStrength(): int</text><polygon fill="#A80036" points="972.5,434.4609,982.5,438.4609,972.5,442.4609,976.5,438.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="502.5" x2="978.5" y1="438.4609" y2="438.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="509.5" y="434.0293">isAvailable(): int</text><polygon fill="#A80036" points="1464.5,463.7715,1474.5,467.7715,1464.5,471.7715,1468.5,467.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="984.5" x2="1470.5" y1="467.7715" y2="467.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="461" x="991.5" y="463.3398">RegisterRequest(username:String, password:String, email:String):int,input</text><polygon fill="#A80036" points="995.5,493.082,985.5,497.082,995.5,501.082,991.5,497.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="989.5" x2="1475.5" y1="497.082" y2="497.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1001.5" y="492.6504">Response, UserID</text><polygon fill="#A80036" points="513.5,527.3926,503.5,531.3926,513.5,535.3926,509.5,531.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="507.5" x2="983.5" y1="531.3926" y2="531.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="519.5" y="526.9609">Response</text><path d="M22,510.3926 L22,535.3926 L493,535.3926 L493,520.3926 L483,510.3926 L22,510.3926 " fill="#FBFB77" filter="url(#f1ryg72z87btmt)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M483,510.3926 L483,520.3926 L493,520.3926 L483,510.3926 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="450" x="28" y="527.9609">若Response=-1则说明用户名已被注册，若Response=0则说明邮箱已被使用</text><polygon fill="#A80036" points="972.5,568.7031,982.5,572.7031,972.5,576.7031,976.5,572.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="502.5" x2="978.5" y1="572.7031" y2="572.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="458" x="509.5" y="568.2715">signUp(username: String, password: String, remember: boolean): boolean</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="984.5" x2="1026.5" y1="602.3242" y2="602.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1026.5" x2="1026.5" y1="602.3242" y2="615.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="985.5" x2="1026.5" y1="615.3242" y2="615.3242"/><polygon fill="#A80036" points="995.5,611.3242,985.5,615.3242,995.5,619.3242,991.5,615.3242" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="317" x="991.5" y="597.582">setCurrentUser(userID: int, username: String): void</text><path d="M908.5,630.3242 L970.5,630.3242 L970.5,637.3242 L960.5,647.3242 L908.5,647.3242 L908.5,630.3242 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="276" x="908.5" y="630.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="923.5" y="643.8926">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="985.5" y="642.959">[remember me selected]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="984.5" x2="1026.5" y1="668.9453" y2="668.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1026.5" x2="1026.5" y1="668.9453" y2="681.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="985.5" x2="1026.5" y1="681.9453" y2="681.9453"/><polygon fill="#A80036" points="995.5,677.9453,985.5,681.9453,995.5,685.9453,991.5,681.9453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="991.5" y="664.2031">rememberCurrentUser(): void</text><polygon fill="#A80036" points="1195.5,713.9453,1205.5,717.9453,1195.5,721.9453,1199.5,717.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="984.5" x2="1201.5" y1="717.9453" y2="717.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="991.5" y="713.5137">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1ryg72z87btmt)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="1207.5" y="696.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="198" x="1214.5" y="717.4805">:LocalVSSManagerViewModel</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1214.5" x2="1412.5" y1="719.4805" y2="719.4805"/><!--
@startuml Diagrams/Register
hide footbox
skinparam sequenceParticipant underline

actor User as user
participant ":LoginViewModel" as loginpage
participant ":RegisterViewModel" as boundary
participant ":UserInfoControl" as control
participant ":LocalVSSManagerViewModel" as nextpage

note right of control: The UserInfoControl is activated since the start of the entire program.

user -> loginpage: onRegisterButtonClicked(): void

create boundary
loginpage -> boundary: <<create>>

user -> boundary: onRememberButtonToggled(): void
loop not finished or incorrect or UserID is 0
    note right of user
        the UI will give the user some reaction if the form is not finished.
    end note
    user -> boundary: onChangeRegisterData(): void
    boundary -> boundary: checkInputLegitimate(): void
    boundary -> boundary: checkPasswordStrength(): int
    boundary -> control: isAvailable(): int
    control ->:RegisterRequest(username:String, password:String, email:String):int,input
    control <-:Response, UserID
    control->boundary:Response
    note left:若Response=-1则说明用户名已被注册，若Response=0则说明邮箱已被使用
end

boundary -> control: signUp(username: String, password: String, remember: boolean): boolean

control -> control: setCurrentUser(userID: int, username: String): void
alt remember me selected
    control -> control: rememberCurrentUser(): void
end
create nextpage
control -> nextpage: <<create>>
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>