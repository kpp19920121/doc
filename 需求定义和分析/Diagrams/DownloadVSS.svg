<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="459px" preserveAspectRatio="none" style="width:1231px;height:459px;" version="1.1" viewBox="0 0 1231 459"
    width="1231px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lkpxxrab0iw0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="648" y="263.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="195" x="655" y="283.5762">cloneVSS:VirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="655" x2="850" y1="285.5762" y2="285.5762"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="447.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="141" x2="141" y1="86.4883" y2="447.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="334" x2="334" y1="86.4883" y2="447.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="539" x2="539" y1="86.4883" y2="447.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="754" x2="754" y1="295.7852" y2="447.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="965" x2="965" y1="86.4883" y2="447.082"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="8" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="8" x2="39" y1="85.5352" y2="85.5352"/><ellipse cx="26.5" cy="13" fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,21 L26.5,48 M13.5,29 L39.5,29 M26.5,48 L13.5,63 M26.5,48 L39.5,63 " fill="none" filter="url(#f1lkpxxrab0iw0)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="55" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="62" y="71.5352">:PreviewOnline***Page</text><line style="stroke: #000000; stroke-width: 1.0;" x1="62" x2="217" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="238" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="174" x="245" y="71.5352">:PreviewOnline***Control</text><line style="stroke: #000000; stroke-width: 1.0;" x1="245" x2="419" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="440" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="180" x="447" y="71.5352">:OnlineSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="447" x2="627" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="871" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="878" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="878" x2="1048" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="129.5,113.4883,139.5,117.4883,129.5,121.4883,133.5,117.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="135.5" y1="117.4883" y2="117.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="33.5" y="113.0566">downloadVSS</text><path d="M544,130.7988 L544,155.7988 L1197,155.7988 L1197,140.7988 L1187,130.7988 L544,130.7988 " fill="#FBFB77" filter="url(#f1lkpxxrab0iw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1187,130.7988 L1187,140.7988 L1197,140.7988 L1187,130.7988 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="632" x="550" y="148.3672">download operation downloads every SoundSource's SoundFragment, a separate local VSS is created.</text><path d="M544,170.1094 L544,195.1094 L958,195.1094 L958,180.1094 L948,170.1094 L544,170.1094 " fill="#FBFB77" filter="url(#f1lkpxxrab0iw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M948,170.1094 L948,180.1094 L958,180.1094 L948,170.1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="550" y="187.6777">every SoundFragment is identified uniquely by MD5 of the file.</text><polygon fill="#A80036" points="322,221.4199,332,225.4199,322,229.4199,326,225.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="141.5" x2="328" y1="225.4199" y2="225.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="148.5" y="220.9883">downloadVSS</text><polygon fill="#A80036" points="527,250.7305,537,254.7305,527,258.7305,531,254.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="334" x2="533" y1="254.7305" y2="254.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="341" y="250.2988">download(thisVSS)</text><polygon fill="#A80036" points="636,280.041,646,284.041,636,288.041,640,284.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="539" x2="642" y1="284.041" y2="284.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="546" y="279.6094">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#f1lkpxxrab0iw0)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="648" y="263.041"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="195" x="655" y="283.5762">cloneVSS:VirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="655" x2="850" y1="285.5762" y2="285.5762"/><polygon fill="#A80036" points="742.5,345.8398,752.5,349.8398,742.5,353.8398,746.5,349.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="539" x2="748.5" y1="349.8398" y2="349.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="546" y="345.4082">copyMetaDataFrom(thisVSS)</text><path d="M759,313.5293 L759,368.5293 L1219,368.5293 L1219,323.5293 L1209,313.5293 L759,313.5293 " fill="#FBFB77" filter="url(#f1lkpxxrab0iw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1209,313.5293 L1209,323.5293 L1219,323.5293 L1209,313.5293 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="394" x="765" y="331.0977">MetaData stands for all forms of data only that a VSS contains,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="765" y="346.4082">including SS, SF, but the SFs are not downloaded.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="439" x="765" y="361.7188">notice that we copy the references for SoundSources, it should be OK.</text><polygon fill="#A80036" points="953,395.4609,963,399.4609,953,403.4609,957,399.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="539" x2="959" y1="399.4609" y2="399.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="546" y="395.0293">addSoundSpace(cloneVSS)</text><polygon fill="#A80036" points="953,424.7715,963,428.7715,953,432.7715,957,428.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="539" x2="959" y1="428.7715" y2="428.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="546" y="424.3398">downloadAllSoundFragment(cloneVSS)</text><!--
@startuml Diagrams/DownloadVSS
hide footbox
skinparam sequenceParticipant underline
actor User as user
participant ":PreviewOnline***Page" as page
participant ":PreviewOnline***Control" as control
participant ":OnlineSoundSpaceLibrary" as onlinelib
participant "cloneVSS:VirtualSoundSpace" as clone
participant ":LocalSoundSpaceLibrary" as library
user -> page: downloadVSS
note right of onlinelib: download operation downloads every SoundSource's SoundFragment, a separate local VSS is created.
note right of onlinelib: every SoundFragment is identified uniquely by MD5 of the file.
page -> control: downloadVSS
control -> onlinelib: download(thisVSS)
create clone
onlinelib -> clone: <<create>>
onlinelib -> clone: copyMetaDataFrom(thisVSS)
note right
MetaData stands for all forms of data only that a VSS contains,
including SS, SF, but the SFs are not downloaded.
notice that we copy the references for SoundSources, it should be OK.
end note
onlinelib -> library: addSoundSpace(cloneVSS)
onlinelib -> library: downloadAllSoundFragment(cloneVSS)




@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>