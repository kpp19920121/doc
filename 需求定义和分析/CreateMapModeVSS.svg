<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1370px" preserveAspectRatio="none" style="width:1692px;height:1370px;" version="1.1" viewBox="0 0 1692 1370"
    width="1692px" zoomAndPan="magnify"><defs><filter height="300%" id="fo1t3fdbt10ih" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="454" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="461" y="146.334">:MapVSSCreateControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="461" x2="616" y1="148.334" y2="148.334"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="1208.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="1215.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1215.5" x2="1527.5" y1="193.8223" y2="193.8223"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="874.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="881.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="881.5" x2="932.5" y1="239.3105" y2="239.3105"/><rect fill="#FFFFFF" filter="url(#fo1t3fdbt10ih)" height="1072.6465" style="stroke: #000000; stroke-width: 2.0;" width="1668.5" x="13" y="269.2637"/><rect fill="#FFFFFF" filter="url(#fo1t3fdbt10ih)" height="436.9473" style="stroke: #000000; stroke-width: 2.0;" width="1195.5" x="23" y="293.5742"/><rect fill="#FFFFFF" filter="url(#fo1t3fdbt10ih)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="542" x="666.5" y="445.127"/><rect fill="#FFFFFF" height="85.2207" style="stroke: none; stroke-width: 1.0;" width="1195.5" x="23" y="645.3008"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1548.5" y="796.1426"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1555.5" y="816.6777">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1555.5" x2="1650.5" y1="818.6777" y2="818.6777"/><rect fill="#FFFFFF" filter="url(#fo1t3fdbt10ih)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1648.5" x="23" y="907.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="86.4883" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="51" x2="51" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51" x2="51" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="86.4883" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="276.5" x2="276.5" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540" x2="540" y1="158.543" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="540" x2="540" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540" x2="540" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="770.5" y1="86.4883" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="770.5" x2="770.5" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="770.5" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="249.5195" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="908.5" x2="908.5" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1075.5" x2="1075.5" y1="86.4883" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1075.5" x2="1075.5" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1075.5" x2="1075.5" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1373.5" x2="1373.5" y1="204.0313" y2="689.5664"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1373.5" x2="1373.5" y1="689.5664" y2="730.5215"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1373.5" x2="1373.5" y1="730.5215" y2="1358.9102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1604.5" x2="1604.5" y1="828.8867" y2="1358.9102"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="31" x="33" y="83.5352">User</text><line style="stroke: #000000; stroke-width: 1.0;" x1="33" x2="64" y1="85.5352" y2="85.5352"/><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#fo1t3fdbt10ih)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="199.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="136" x="206.5" y="71.5352">:MapVSSCreatePage</text><line style="stroke: #000000; stroke-width: 1.0;" x1="206.5" x2="342.5" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="676.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="683.5" y="71.5352">:LocalSoundSpaceLibrary</text><line style="stroke: #000000; stroke-width: 1.0;" x1="683.5" x2="853.5" y1="73.5352" y2="73.5352"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="957.5" y="47"/><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="953.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="223" x="960.5" y="71.5352">soundSpaces:VirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="960.5" x2="1183.5" y1="73.5352" y2="73.5352"/><polygon fill="#A80036" points="264.5,113.4883,274.5,117.4883,264.5,121.4883,268.5,117.4883" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="270.5" y1="117.4883" y2="117.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="10" y="113.0566">&lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="442,142.7988,452,146.7988,442,150.7988,446,146.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="448" y1="146.7988" y2="146.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="283.5" y="142.3672">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="454" y="125.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="155" x="461" y="146.334">:MapVSSCreateControl</text><line style="stroke: #000000; stroke-width: 1.0;" x1="461" x2="616" y1="148.334" y2="148.334"/><polygon fill="#A80036" points="1196.5,188.2871,1206.5,192.2871,1196.5,196.2871,1200.5,192.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1202.5" y1="192.2871" y2="192.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="187.8555">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="1208.5" y="171.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="312" x="1215.5" y="191.8223">newSoundSpace:MapModeVirtualSoundSpace</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1215.5" x2="1527.5" y1="193.8223" y2="193.8223"/><polygon fill="#A80036" points="862.5,233.7754,872.5,237.7754,862.5,241.7754,866.5,237.7754" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="868.5" y1="237.7754" y2="237.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="233.3438">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="874.5" y="216.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="881.5" y="237.3105">:Sensor</text><line style="stroke: #000000; stroke-width: 1.0;" x1="881.5" x2="932.5" y1="239.3105" y2="239.3105"/><path d="M13,269.2637 L87,269.2637 L87,276.2637 L77,286.2637 L13,286.2637 L13,269.2637 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1072.6465" style="stroke: #000000; stroke-width: 2.0;" width="1668.5" x="13" y="269.2637"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="28" y="282.832">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="102" y="281.8984">[add virual sound source]</text><path d="M23,293.5742 L85,293.5742 L85,300.5742 L75,310.5742 L23,310.5742 L23,293.5742 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="436.9473" style="stroke: #000000; stroke-width: 2.0;" width="1195.5" x="23" y="293.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="307.1426">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="100" y="306.209">[add from library]</text><path d="M56,315.8848 L56,340.8848 L733,340.8848 L733,325.8848 L723,315.8848 L56,315.8848 " fill="#FBFB77" filter="url(#fo1t3fdbt10ih)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,315.8848 L723,325.8848 L733,325.8848 L723,315.8848 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="656" x="62" y="333.4531">Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.</text><polygon fill="#A80036" points="264.5,367.1953,274.5,371.1953,264.5,375.1953,268.5,371.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="371.1953" y2="371.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="58.5" y="366.7637">selectExistedSoundSource</text><polygon fill="#A80036" points="528.5,396.5059,538.5,400.5059,528.5,404.5059,532.5,400.5059" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="400.5059" y2="400.5059"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="283.5" y="396.0742">getLocalSoundFragments</text><polygon fill="#A80036" points="758.5,425.8164,768.5,429.8164,758.5,433.8164,762.5,429.8164" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="764.5" y1="429.8164" y2="429.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="547.5" y="425.3848">getLocalSoundFragments</text><path d="M666.5,445.127 L740.5,445.127 L740.5,452.127 L730.5,462.127 L666.5,462.127 L666.5,445.127 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="542" x="666.5" y="445.127"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="681.5" y="458.6953">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="755.5" y="457.7617">[for each]</text><polygon fill="#A80036" points="1064,479.4375,1074,483.4375,1064,487.4375,1068,483.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="770.5" x2="1070" y1="483.4375" y2="483.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="777.5" y="479.0059">getSoundSources</text><polygon fill="#A80036" points="781.5,508.748,771.5,512.748,781.5,516.748,777.5,512.748" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="775.5" x2="1075" y1="512.748" y2="512.748"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="787.5" y="508.3164">soundSources</text><polygon fill="#A80036" points="551.5,545.0586,541.5,549.0586,551.5,553.0586,547.5,549.0586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="545.5" x2="769.5" y1="549.0586" y2="549.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="557.5" y="544.627">filteredSoundFragments</text><polygon fill="#A80036" points="287.5,574.3691,277.5,578.3691,287.5,582.3691,283.5,578.3691" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="281.5" x2="539.5" y1="578.3691" y2="578.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="293.5" y="573.9375">displayAvailableLocalSoundFragments</text><polygon fill="#A80036" points="264.5,603.6797,274.5,607.6797,264.5,611.6797,268.5,607.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="607.6797" y2="607.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="58.5" y="603.248">selectSoundFragment</text><polygon fill="#A80036" points="528.5,632.9902,538.5,636.9902,528.5,640.9902,532.5,636.9902" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="636.9902" y2="636.9902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="283.5" y="632.5586">addSoundFragment</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1218.5" y1="646.3008" y2="646.3008"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="28" y="656.9355">[add from file]</text><polygon fill="#A80036" points="264.5,677.2559,274.5,681.2559,264.5,685.2559,268.5,681.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="681.2559" y2="681.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="58.5" y="676.8242">selectFromFileSystem</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="500" x="578.25" y="714.2012">somehow MapVSSCreateControl got the new SoundFragment # specify during implementation</text><polygon fill="#A80036" points="897,754.5215,907,758.5215,897,762.5215,901,758.5215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="903" y1="758.5215" y2="758.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="547.5" y="754.0898">getCurrentLocation</text><polygon fill="#A80036" points="551.5,783.832,541.5,787.832,551.5,791.832,547.5,787.832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="545.5" x2="908" y1="787.832" y2="787.832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="557.5" y="783.4004">currentLocation</text><polygon fill="#A80036" points="1536.5,813.1426,1546.5,817.1426,1536.5,821.1426,1540.5,817.1426" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1542.5" y1="817.1426" y2="817.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="547.5" y="812.7109">&lt;&lt;create&gt;&gt;</text><rect fill="#FEFECE" filter="url(#fo1t3fdbt10ih)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1548.5" y="796.1426"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="95" x="1555.5" y="816.6777">:SoundSource</text><line style="stroke: #000000; stroke-width: 1.0;" x1="1555.5" x2="1650.5" y1="818.6777" y2="818.6777"/><polygon fill="#A80036" points="1593,858.6309,1603,862.6309,1593,866.6309,1597,862.6309" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1599" y1="862.6309" y2="862.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="547.5" y="858.1992">setSoundFragment</text><polygon fill="#A80036" points="1593,887.9414,1603,891.9414,1593,895.9414,1597,891.9414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1599" y1="891.9414" y2="891.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="547.5" y="887.5098">setLocation</text><path d="M23,907.252 L85,907.252 L85,914.252 L75,924.252 L23,924.252 L23,907.252 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="1648.5" x="23" y="907.252"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="920.8203">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="100" y="919.8867">[user choose to alter position]</text><polygon fill="#A80036" points="264.5,941.5625,274.5,945.5625,264.5,949.5625,268.5,945.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="945.5625" y2="945.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="58.5" y="941.1309">setCurrentSoundSourceLocation</text><polygon fill="#A80036" points="1593,970.873,1603,974.873,1593,978.873,1597,974.873" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="1599" y1="974.873" y2="974.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="283.5" y="970.4414">setLocation</text><polygon fill="#A80036" points="264.5,1007.1836,274.5,1011.1836,264.5,1015.1836,268.5,1011.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1011.1836" y2="1011.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="58.5" y="1006.752">setSoundSourceMode</text><polygon fill="#A80036" points="528.5,1036.4941,538.5,1040.4941,528.5,1044.4941,532.5,1040.4941" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="1040.4941" y2="1040.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="283.5" y="1036.0625">setSoundSourceMode</text><polygon fill="#A80036" points="1593,1065.8047,1603,1069.8047,1593,1073.8047,1597,1069.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1599" y1="1069.8047" y2="1069.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="547.5" y="1065.373">setSoundSourceMode</text><polygon fill="#A80036" points="1361.5,1095.1152,1371.5,1099.1152,1361.5,1103.1152,1365.5,1099.1152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1367.5" y1="1099.1152" y2="1099.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="547.5" y="1094.6836">addSoundSource(soundSource)</text><polygon fill="#A80036" points="264.5,1124.4258,274.5,1128.4258,264.5,1132.4258,268.5,1128.4258" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1128.4258" y2="1128.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="58.5" y="1123.9941">setVSSNameAndDescription</text><polygon fill="#A80036" points="528.5,1153.7363,538.5,1157.7363,528.5,1161.7363,532.5,1157.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="1157.7363" y2="1157.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="283.5" y="1153.3047">setVSSNameAndDescription</text><polygon fill="#A80036" points="1361.5,1183.0469,1371.5,1187.0469,1361.5,1191.0469,1365.5,1187.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="1367.5" y1="1187.0469" y2="1187.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="547.5" y="1182.6152">setVSSNameAndDescription</text><polygon fill="#A80036" points="264.5,1212.3574,274.5,1216.3574,264.5,1220.3574,268.5,1216.3574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="270.5" y1="1216.3574" y2="1216.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="58.5" y="1211.9258">comfirmVSSCreation</text><polygon fill="#A80036" points="528.5,1241.668,538.5,1245.668,528.5,1249.668,532.5,1245.668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.5" x2="534.5" y1="1245.668" y2="1245.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="283.5" y="1241.2363">comfirmVSSCreation</text><polygon fill="#A80036" points="758.5,1270.9785,768.5,1274.9785,758.5,1278.9785,762.5,1274.9785" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="764.5" y1="1274.9785" y2="1274.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="547.5" y="1270.5469">addSoundSpace(newSoundSpace)</text><polygon fill="#A80036" points="287.5,1300.2891,277.5,1304.2891,287.5,1308.2891,283.5,1304.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="281.5" x2="539.5" y1="1304.2891" y2="1304.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="293.5" y="1299.8574">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1295.2891" y2="1313.2891"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="267.5" x2="285.5" y1="1313.2891" y2="1295.2891"/><polygon fill="#A80036" points="897,1329.5996,907,1333.5996,897,1337.5996,901,1333.5996" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="540.5" x2="903" y1="1333.5996" y2="1333.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="547.5" y="1329.168">&lt;&lt;destroy&gt;&gt;</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="900" x2="918" y1="1324.5996" y2="1342.5996"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="900" x2="918" y1="1342.5996" y2="1324.5996"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="531.5" x2="549.5" y1="1324.5996" y2="1342.5996"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="531.5" x2="549.5" y1="1342.5996" y2="1324.5996"/><!--
@startuml CreateMapModeVSS
hide footbox
skinparam sequenceParticipant underline


actor User as user
participant ":MapVSSCreatePage" as createboundary
participant ":MapVSSCreateControl" as createcontrol
participant ":LocalSoundSpaceLibrary" as library
participant ":Sensor" as sensor
collections "soundSpaces:VirtualSoundSpace" as vsses
participant "newSoundSpace:MapModeVirtualSoundSpace" as newspace


[-> createboundary: <<create>>
create createcontrol
createboundary -> createcontrol: <<create>>
create newspace
createcontrol -> newspace: <<create>>
create sensor
createcontrol -> sensor: <<create>>
loop add virual sound source
    alt add from library
        note right of user: Notice that there are no shared SoundSources here, each time, only the SoundFragment object is reused.
        user -> createboundary: selectExistedSoundSource
        createboundary -> createcontrol: getLocalSoundFragments
        createcontrol -> library: getLocalSoundFragments
        loop for each
            library -> vsses: getSoundSources
            vsses - -> library: soundSources
        end
        library - -> createcontrol: filteredSoundFragments
        createcontrol - -> createboundary: displayAvailableLocalSoundFragments
        user -> createboundary: selectSoundFragment
        createboundary -> createcontrol: addSoundFragment
    else add from file
        user -> createboundary: selectFromFileSystem
        ...somehow MapVSSCreateControl got the new SoundFragment # specify during implementation...

    end

    createcontrol -> sensor: getCurrentLocation
    sensor - -> createcontrol: currentLocation

    participant ":SoundSource" as source
    create source
    createcontrol -> source: <<create>>
    createcontrol -> source: setSoundFragment
    createcontrol -> source: setLocation

    alt user choose to alter position
        user -> createboundary: setCurrentSoundSourceLocation
        createboundary -> source: setLocation
    end
    user -> createboundary: setSoundSourceMode
    createboundary -> createcontrol: setSoundSourceMode
    createcontrol -> source: setSoundSourceMode
    createcontrol -> newspace: addSoundSource(soundSource)
    user -> createboundary: setVSSNameAndDescription
    createboundary -> createcontrol: setVSSNameAndDescription
    createcontrol -> newspace: setVSSNameAndDescription
    user -> createboundary: comfirmVSSCreation
    createboundary -> createcontrol: comfirmVSSCreation
    createcontrol -> library: addSoundSpace(newSoundSpace)
    createcontrol -> createboundary: <<destroy>>
    destroy createboundary
    createcontrol -> sensor: <<destroy>>
    destroy sensor
    destroy createcontrol


end
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9+181
Operating System: Mac OS X
OS Version: 10.12.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>